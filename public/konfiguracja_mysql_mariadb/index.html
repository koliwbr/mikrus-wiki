<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Mikrus - Don&#39;t Panic!</title>
<meta name="keywords" content="">
<meta name="description" content="Konfiguracja MySQL/MariaDB Chcąc postawić na Mikrusie własną bazę danych (możesz także skorzystać ze współdzielonej jeśli chcesz), wykonaj poniższe kroki.
Zaktualizuj pakiety w systemie
apt update Zainstaluj odpowiednie pakiety - my polecamy bazę MariaDB, która jest w 100% kompatybilna z MySQL
apt install mariadb-server mariadb-client Po tych operacjach masz działającą bazę, nasłuchującą na porcie 3306 na localhost.
Zakładanie bazy danych Na początek zaloguj się do bazy poniższym poleceniem (nie potrzebujesz hasła)">
<meta name="author" content="">
<link rel="canonical" href="https://koliwbr.github.io/mikrus-wiki/konfiguracja_mysql_mariadb/">
<link crossorigin="anonymous" href="/mikrus-wiki/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://koliwbr.github.io/mikrus-wiki/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://koliwbr.github.io/mikrus-wiki/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://koliwbr.github.io/mikrus-wiki/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://koliwbr.github.io/mikrus-wiki/apple-touch-icon.png">
<link rel="mask-icon" href="https://koliwbr.github.io/mikrus-wiki/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="" />
<meta property="og:description" content="Konfiguracja MySQL/MariaDB Chcąc postawić na Mikrusie własną bazę danych (możesz także skorzystać ze współdzielonej jeśli chcesz), wykonaj poniższe kroki.
Zaktualizuj pakiety w systemie
apt update Zainstaluj odpowiednie pakiety - my polecamy bazę MariaDB, która jest w 100% kompatybilna z MySQL
apt install mariadb-server mariadb-client Po tych operacjach masz działającą bazę, nasłuchującą na porcie 3306 na localhost.
Zakładanie bazy danych Na początek zaloguj się do bazy poniższym poleceniem (nie potrzebujesz hasła)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://koliwbr.github.io/mikrus-wiki/konfiguracja_mysql_mariadb/" /><meta property="article:section" content="" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Konfiguracja MySQL/MariaDB Chcąc postawić na Mikrusie własną bazę danych (możesz także skorzystać ze współdzielonej jeśli chcesz), wykonaj poniższe kroki.
Zaktualizuj pakiety w systemie
apt update Zainstaluj odpowiednie pakiety - my polecamy bazę MariaDB, która jest w 100% kompatybilna z MySQL
apt install mariadb-server mariadb-client Po tych operacjach masz działającą bazę, nasłuchującą na porcie 3306 na localhost.
Zakładanie bazy danych Na początek zaloguj się do bazy poniższym poleceniem (nie potrzebujesz hasła)"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "",
      "item": "https://koliwbr.github.io/mikrus-wiki/konfiguracja_mysql_mariadb/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "",
  "name": "",
  "description": "Konfiguracja MySQL/MariaDB Chcąc postawić na Mikrusie własną bazę danych (możesz także skorzystać ze współdzielonej jeśli chcesz), wykonaj poniższe kroki.\nZaktualizuj pakiety w systemie\napt update Zainstaluj odpowiednie pakiety - my polecamy bazę MariaDB, która jest w 100% kompatybilna z MySQL\napt install mariadb-server mariadb-client Po tych operacjach masz działającą bazę, nasłuchującą na porcie 3306 na localhost.\nZakładanie bazy danych Na początek zaloguj się do bazy poniższym poleceniem (nie potrzebujesz hasła)",
  "keywords": [
    
  ],
  "articleBody": "Konfiguracja MySQL/MariaDB Chcąc postawić na Mikrusie własną bazę danych (możesz także skorzystać ze współdzielonej jeśli chcesz), wykonaj poniższe kroki.\nZaktualizuj pakiety w systemie\napt update Zainstaluj odpowiednie pakiety - my polecamy bazę MariaDB, która jest w 100% kompatybilna z MySQL\napt install mariadb-server mariadb-client Po tych operacjach masz działającą bazę, nasłuchującą na porcie 3306 na localhost.\nZakładanie bazy danych Na początek zaloguj się do bazy poniższym poleceniem (nie potrzebujesz hasła)\nmysql Następnie wydaj polecenie do założenia bazy - niech baza nazywa się np. ‘kwiaty’\ncreate database **kwiaty;** Dodanie nowego użytkownika Wpisz w konsoli MySQL polecenie zakładające użytkownika ‘roman’ z hasłem ‘banan’ (to przykład - podaj własne).\ngrant all privileges on **kwiaty**.* to '**roman**'@'%' identified by '**banan**'; Przeładuj jeszcze prawa dostępu tak, aby Twoje zmiany były natychmiast widoczne\nflush privileges; Umożliwienie połączenia z zewnątrz Domyślnie, baza danych słucha na lokalnym adresie IP, więc połączenie z nią z innego komputera jest niemożliwe. Aby to zmienić, możesz w pliku /etc/mysql/mariadb.conf.d/50-server.cnf zmienić linijkę z bind-adres na:\nbind-address = 0.0.0.0 Konieczna będzie także zmiana numeru portu, bo port 3306 nie jest na Mikrusie widoczny z zewnątrz. Znajdź więc linijkę z tekstem “port = 3306” i wpisz tam jeden z portów, które należą do Ciebie. Przykładowo\nport = 20355 Po tych zmianach musisz zrestartować bazę\nservice mysql restart Importowanie danych do bazy Jeśli masz zrzut danych w formacie pliku SQL np. z poprzedniego hostingu, to wykonaj poniższe instrukcje, aby go zaimportować na Mikrusa do własnej bazy\nWrzuć plik SQL gdzieś na serwer, np. do /tmp/baza.sql Połącz się z mysql za pomocą polecenia mysql Połącz się z bazą, do której chcesz zaimportować dane (u nas się zwie ona ‘kwiaty’) use kwiaty; Wydaj polecenie importujące dane\nsource /tmp/baza.sql; Gotowe :)\nDodatkowe uwagi To jest poradnik dla początkujących. Niektóre rzeczy dałoby się zrobić lepiej. Można dodać do tego firewalla, nowemu użytkownikowi dać tyle praw ile faktycznie potrzebuje (a nie wszystkie), czy ograniczyć hosty użytkowników do konkretnych IP/domen zamiast “%”.\nNie wspominam tutaj także o optymalizacji ustawień MySQL. To temat zbyt szeroki i zbyt trudny dla kogoś, kto po prostu chce mieć działającą bazę.\nUsprawnień jest wiele, ale na poziomie początkującego użytkownika, powyższy tutorial będzie dla Ciebie w zupełności wystarczający.\nPowrót do strony głównej\n",
  "wordCount" : "364",
  "inLanguage": "en",
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://koliwbr.github.io/mikrus-wiki/konfiguracja_mysql_mariadb/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Mikrus - Don't Panic!",
    "logo": {
      "@type": "ImageObject",
      "url": "https://koliwbr.github.io/mikrus-wiki/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://koliwbr.github.io/mikrus-wiki/" accesskey="h" title="Mikrus - Don&#39;t Panic! (Alt + H)">Mikrus - Don&#39;t Panic!</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      
    </h1>
    <div class="post-meta">

</div>
  </header> 
  <div class="post-content"><h1 id="konfiguracja-mysqlmariadb">Konfiguracja MySQL/MariaDB<a hidden class="anchor" aria-hidden="true" href="#konfiguracja-mysqlmariadb">#</a></h1>
<p>Chcąc postawić na Mikrusie własną bazę danych (możesz także <a href="Wspo%CC%81%C5%82dzielone%20bazy%20danych%20139d979d5105492282aef2eb20bfc208.md">skorzystać ze współdzielonej</a> jeśli chcesz), wykonaj poniższe kroki.</p>
<p>Zaktualizuj pakiety w systemie</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>apt update
</span></span></code></pre></div><p>Zainstaluj odpowiednie pakiety - my polecamy bazę MariaDB, która jest w 100% kompatybilna z MySQL</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>apt install mariadb-server mariadb-client
</span></span></code></pre></div><p>Po tych operacjach masz działającą bazę, nasłuchującą na porcie 3306 na localhost.</p>
<h2 id="zakładanie-bazy-danych">Zakładanie bazy danych<a hidden class="anchor" aria-hidden="true" href="#zakładanie-bazy-danych">#</a></h2>
<p>Na początek zaloguj się do bazy poniższym poleceniem (nie potrzebujesz hasła)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mysql
</span></span></code></pre></div><p>Następnie wydaj polecenie do założenia bazy - niech baza nazywa się np. &lsquo;kwiaty&rsquo;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">create</span> <span style="color:#66d9ef">database</span> <span style="color:#f92672">**</span>kwiaty;<span style="color:#f92672">**</span>
</span></span></code></pre></div><h2 id="dodanie-nowego-użytkownika">Dodanie nowego użytkownika<a hidden class="anchor" aria-hidden="true" href="#dodanie-nowego-użytkownika">#</a></h2>
<p>Wpisz w konsoli MySQL polecenie zakładające użytkownika &lsquo;roman&rsquo; z hasłem &lsquo;banan&rsquo; (to przykład - podaj własne).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">grant</span> <span style="color:#66d9ef">all</span> <span style="color:#66d9ef">privileges</span> <span style="color:#66d9ef">on</span> <span style="color:#f92672">**</span>kwiaty<span style="color:#f92672">**</span>.<span style="color:#f92672">*</span> <span style="color:#66d9ef">to</span> <span style="color:#e6db74">&#39;**roman**&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;%&#39;</span> identified <span style="color:#66d9ef">by</span> <span style="color:#e6db74">&#39;**banan**&#39;</span>;
</span></span></code></pre></div><p>Przeładuj jeszcze prawa dostępu tak, aby Twoje zmiany były natychmiast widoczne</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>flush <span style="color:#66d9ef">privileges</span>;
</span></span></code></pre></div><h2 id="umożliwienie-połączenia-z-zewnątrz">Umożliwienie połączenia z zewnątrz<a hidden class="anchor" aria-hidden="true" href="#umożliwienie-połączenia-z-zewnątrz">#</a></h2>
<p>Domyślnie, baza danych słucha na lokalnym adresie IP, więc połączenie z nią z innego komputera jest niemożliwe. Aby to zmienić, możesz w pliku <strong>/etc/mysql/mariadb.conf.d/50-server.cnf</strong> zmienić linijkę z bind-adres na:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>bind-address <span style="color:#f92672">=</span> 0.0.0.0
</span></span></code></pre></div><p>Konieczna będzie także zmiana numeru portu, bo port 3306 nie jest na Mikrusie widoczny z zewnątrz. Znajdź więc linijkę z tekstem &ldquo;port = 3306&rdquo; i wpisz tam jeden z portów, które należą do Ciebie. Przykładowo</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>port <span style="color:#f92672">=</span> <span style="color:#ae81ff">20355</span>
</span></span></code></pre></div><p>Po tych zmianach musisz zrestartować bazę</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>service mysql restart
</span></span></code></pre></div><h2 id="importowanie-danych-do-bazy">Importowanie danych do bazy<a hidden class="anchor" aria-hidden="true" href="#importowanie-danych-do-bazy">#</a></h2>
<p>Jeśli masz zrzut danych w formacie pliku SQL np. z poprzedniego hostingu, to wykonaj poniższe instrukcje, aby go zaimportować na Mikrusa do własnej bazy</p>
<ul>
<li>Wrzuć plik SQL gdzieś na serwer, np. do <strong>/tmp/baza.sql</strong></li>
<li>Połącz się z mysql za pomocą polecenia</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mysql
</span></span></code></pre></div><ul>
<li>Połącz się z bazą, do której chcesz zaimportować dane (u nas się zwie ona &lsquo;kwiaty&rsquo;)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>use kwiaty;
</span></span></code></pre></div><p>Wydaj polecenie importujące dane</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">source</span> <span style="color:#f92672">/</span>tmp<span style="color:#f92672">/</span>baza.<span style="color:#66d9ef">sql</span>;
</span></span></code></pre></div><p>Gotowe :)</p>
<h2 id="dodatkowe-uwagi">Dodatkowe uwagi<a hidden class="anchor" aria-hidden="true" href="#dodatkowe-uwagi">#</a></h2>
<p>To jest poradnik dla początkujących. Niektóre rzeczy dałoby się zrobić lepiej. Można dodać do tego firewalla, nowemu użytkownikowi dać tyle praw ile faktycznie potrzebuje (a nie wszystkie), czy ograniczyć hosty użytkowników do konkretnych IP/domen zamiast &ldquo;%&rdquo;.</p>
<p>Nie wspominam tutaj także o optymalizacji ustawień MySQL. To temat zbyt szeroki i zbyt trudny dla kogoś, kto po prostu chce mieć działającą bazę.</p>
<p>Usprawnień jest wiele, ale na poziomie początkującego użytkownika, powyższy tutorial będzie dla Ciebie w zupełności wystarczający.</p>
<p><a href="../MIKR%20US%20-%20Don't%20Panic!%2072ab7e2ae85342d2a0a0c9443d521166.md">Powrót do strony głównej</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://koliwbr.github.io/mikrus-wiki/">Mikrus - Don&#39;t Panic!</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
